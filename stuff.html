<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Stuff</title>
  <style>
    html, body {
      margin: 0; padding: 0; height: 100%;
      font-family: sans-serif;
      background-color: black;
      overflow: hidden;
      color: black;
    }

    #bg {
      position: fixed;
      top: 0; left: 0;
      height: 100%; width: 100%;
      object-fit: cover;
      z-index: -1;
    }

    /* Center the UI container horizontally & vertically */
    .ui-container {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      gap: 40px;
      box-sizing: border-box;
      padding: 0 20px;
      user-select: none;
    }

    .button-panel {
      display: flex;
      flex-direction: column;
      gap: 15px;
      padding: 20px;
      min-width: 160px;
      transition: transform 0.5s ease;
      z-index: 10;
    }

    .button-panel.moved {
      transform: translateX(-200px);
    }

    .button {
      font-weight: bold;
      font-size: 16px;
      padding: 14px 24px;
      border: 2px solid black;
      background: white;
      cursor: pointer;
      transition: none;
      box-shadow: none;
      color: black;
      text-transform: uppercase;
      user-select: none;
    }

    .button:hover {
      background: #eee;
      outline: none;
      box-shadow: none;
    }

    .content-panel {
      display: none;
      flex-direction: column;
      gap: 10px;
      max-height: 80vh;
      overflow-y: auto;
      background: rgba(255, 255, 255, 0.95);
      padding: 20px;
      border: 2px solid black;
      min-width: 520px;
      max-width: 70vw;
      box-sizing: border-box;
      position: relative;
      z-index: 5;
    }

    .content-panel.active {
      display: flex;
    }

    .art-image {
      width: 100px;
      height: 100px;
      object-fit: cover;
      cursor: zoom-in;
      border: 2px solid black;
      margin: 5px;
    }

    #zoomOverlay {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.9);
      justify-content: center;
      align-items: center;
      z-index: 20;
      cursor: zoom-out;
    }

    #zoomImage {
      max-width: 90%;
      max-height: 90%;
      transition: transform 0.1s;
      will-change: transform;
      user-select: none;
      pointer-events: none;
    }

    #funfact {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: #fff9b0;
      padding: 12px 18px;
      border: 2px solid black;
      font-weight: bold;
      color: black;
      z-index: 15;
      user-select: none;
      max-width: 80vw;
      text-align: center;
      font-size: 16px;
      box-sizing: border-box;
    }

    #backBtn {
      position: fixed;
      top: 10px;
      left: 10px;
      font-size: 14px;
      padding: 6px 10px;
      border: 2px solid black;
      cursor: pointer;
      background: white;
      z-index: 15;
      user-select: none;
      color: black;
      text-transform: uppercase;
    }
  </style>
</head>
<body>

  <img id="bg" src="" alt="Background" />

  <div class="ui-container">
    <div class="button-panel" id="buttonPanel">
      <button class="button" onclick="showPanel('art')">Art</button>
      <button class="button" onclick="showPanel('favorites')">Favorites of Us</button>
      <button class="button" onclick="showPanel('todo')">Things 2 Do</button>
    </div>

    <div class="content-panel" id="artPanel"></div>

    <div class="content-panel" id="favoritesPanel">
      <h2>Our Favorite Stuff</h2>
      <ul>
        <li>Song: Electric Love</li>
        <li>Show: Adventure Time</li>
        <li>Game: Minecraft</li>
        <li>Food: Pepperoni Pizza</li>
      </ul>
    </div>

    <div class="content-panel" id="todoPanel">
      <h2>Things To Do</h2>
      <ul>
        <li>Draw silly doodles</li>
        <li>Listen to our playlist</li>
        <li>Make a silly video</li>
        <li>Build something in a sandbox game</li>
        <li>Write a short poem</li>
        <li>Make a random recipe</li>
      </ul>
    </div>
  </div>

  <div id="funfact"></div>

  <button id="backBtn" onclick="goBack()">Back</button>

  <div id="zoomOverlay" onclick="closeZoom()">
    <img id="zoomImage" src="" alt="Zoomed Art" />
  </div>

<script>
  // Background gifs
  const gifCount = 3;
  const bg = document.getElementById("bg");
  function setRandomBg() {
    const index = Math.floor(Math.random() * gifCount) + 1;
    bg.src = `assets/gifbackground/gif${index}.gif`;
  }
  setRandomBg();

  // Fun facts
  const funfacts = [
    "Fun Fact: Penguins have knees!",
    "Fun Fact: Bananas are berries.",
    "Fun Fact: You blink 15-20 times a minute!",
    "Fun Fact: Octopuses have three hearts."
  ];
  const funfactEl = document.getElementById("funfact");
  function setRandomFunfact() {
    funfactEl.textContent = funfacts[Math.floor(Math.random() * funfacts.length)];
  }
  setRandomFunfact();

  // Panels
  const panels = {
    art: document.getElementById("artPanel"),
    favorites: document.getElementById("favoritesPanel"),
    todo: document.getElementById("todoPanel"),
  };

  const buttonPanel = document.getElementById("buttonPanel");
  let currentPanel = null;

  function showPanel(name) {
    // Move buttons left if not moved, or if clicked same button again
    if (!buttonPanel.classList.contains("moved") || currentPanel === name) {
      buttonPanel.classList.toggle("moved");
    }
    // Hide all panels
    for (const key in panels) {
      panels[key].classList.remove("active");
    }
    // Show chosen panel
    panels[name].classList.add("active");
    currentPanel = name;

    if (name === "art") loadArt();
  }

  // Load art images only once
  let artLoaded = false;
  function loadArt() {
    if (artLoaded) return;
    const artPanel = panels.art;
    for (let i = 1; i <= 9; i++) {
      const img = document.createElement("img");
      img.src = `assets/art/art${i}.jpg`;
      img.className = "art-image";
      img.alt = `Art ${i}`;
      img.onerror = () => img.style.display = "none";
      img.onclick = () => zoomImage(img.src);
      artPanel.appendChild(img);
    }
    artLoaded = true;
  }

  // Zoom overlay logic
  const zoomOverlay = document.getElementById("zoomOverlay");
  const zoomImageEl = document.getElementById("zoomImage");
  let zoomScale = 1;

  function zoomImage(src) {
    zoomImageEl.src = src;
    zoomScale = 1;
    zoomImageEl.style.transform = `scale(${zoomScale})`;
    zoomOverlay.style.display = "flex";
  }

  zoomOverlay.onclick = () => {
    zoomOverlay.style.display = "none";
  };

  zoomImageEl.onwheel = (e) => {
    e.preventDefault();
    zoomScale += e.deltaY * -0.0015;
    zoomScale = Math.min(Math.max(0.5, zoomScale), 5);
    zoomImageEl.style.transform = `scale(${zoomScale})`;
  };

  document.addEventListener("keydown", (e) => {
    if (e.key === "Escape" && zoomOverlay.style.display === "flex") {
      zoomOverlay.style.display = "none";
    }
  });

  function closeZoom() {
    zoomOverlay.style.display = "none";
  }

  // Back button
  function goBack() {
    window.location.href = "index.html";
  }
</script>

</body>
</html>
